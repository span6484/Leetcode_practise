#### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

ç®€å•

å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚

 

**ç¤ºä¾‹:**

```
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.min();   --> è¿”å› -3.
minStack.pop();
minStack.top();      --> è¿”å› 0.
minStack.min();   --> è¿”å› -2.
```

 

**æç¤ºï¼š**

1. å„å‡½æ•°çš„è°ƒç”¨æ€»æ¬¡æ•°ä¸è¶…è¿‡ 20000 æ¬¡

 





---

##### æ€è·¯1	stackæ–¹æ³•

ä¸¤ä¸ªstackï¼Œ ä¸€ä¸ªç”¨æ¥æ­£å¸¸å­˜å‚¨ stack1ï¼Œ å¦ä¸€ä¸ªå­˜å‚¨æœ€å°å€¼ stack2ï¼Œ å½“ cur value < stack2 ä¸­çš„ç¬¬ä¸€ä¸ª ï¼ˆFIFO), pushè¿›ä¸¤ä¸ªstackï¼Œ å¦åˆ™åªpushè¿›stack1. 

```
Ex: 5,4,-1,0,9,-2

Stack1: -2,9,0,-1,4,5

Stack2: -2,-1,4,5
```

å½“stack1å¾… pop å€¼ **ç­‰äº** stack2 å¾… pop å€¼, åˆ™ åŒæ—¶pop

```
-2
Stack1: 9,0,-1,4,5

Stack2: -1,4,5
```

å¦‚æœä¸åŒï¼Œ åˆ™åªpop stack1

```
9,0
Stack1: -1,4,5

Stack2: -1,4,5
```



###### **BUG**

1. **==** 

   ```java
   // stack1.getFirst() = 3,stack2.getFirst() = 3	
   if (stack1.getFirst() == stack2.getFirst())			//false
   ```

   **å¦‚æœæ˜¯2ä¸ªIntegerï¼Œ==æ¯”è¾ƒçš„å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œequalsæ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœæ˜¯2ä¸ªIntegerï¼Œéœ€è¦çœ‹ä½ æ¯”è¾ƒçš„å“ªç§åœºæ™¯ã€‚**

###### code

```java
class MinStack {
    LinkedList<Integer> stack1;
    LinkedList<Integer> stack2;     //pushæœ€å°çš„è¿›å»
    /** initialize your data structure here. */
    public MinStack() {
        stack1 = new LinkedList<Integer>();
        stack2 = new LinkedList<Integer>();
    }
    
    public void push(int x) {
        if (stack2.isEmpty()) {
            stack2.push(x);
            System.out.println("stack2 push: "+stack2.getFirst());  
        }
        else {

            if(stack2.getFirst() >= x) {
                stack2.push(x);
            }
        }
        stack1.push(x);
    }
    
    public void pop() {
        System.out.println("stack1 getF: "+stack1.getFirst());
        System.out.println("stack2 getF: "+stack2.getFirst());      
        if(stack1.getFirst().equals(stack2.getFirst())){
            stack1.pop();
            stack2.pop();         
        
        }
        else {
            stack1.pop();
        }

    }
    
    public int top() {
        return stack1.getFirst();
    }
    
    public int min() {
        return stack2.getFirst();
    }
}

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack obj = new MinStack();
 * obj.push(x);
 * obj.pop();
 * int param_3 = obj.top();
 * int param_4 = obj.min();
 */
```



---

##### æ€è·¯2	é“¾è¡¨å­˜å‚¨æ–¹æ³•	ğŸŒŸ

æ„å»ºlinkedlistï¼Œ æ¯ä¸ªlistå­˜å‚¨å½“å‰æœ€å°å€¼ï¼Œ æ¯pushä¸€ä¸ªå°±å¾€å·¦è¾¹æ·»åŠ ä¸€ä¸ªNodeï¼Œ åˆ é™¤å°±æ˜¯`head = head.next` å¾€å³è¾¹æ›´æ–°ï¼Œ

<img width="692" alt="image" src="https://user-images.githubusercontent.com/37071362/164646321-91520e68-bdf5-41d9-a8a2-09b8b49c8fd6.png">

###### code

```java
class MinStack {
    private Node head;
    /** initialize your data structure here. */
    public MinStack() {

    }
    
    public void push(int x) {
        if (head == null) {
            head = new Node(x,x,null);
        }
        else {
            Node new_Node = new Node(x, Math.min(x, head.min), head);
            head = new_Node;
        }

    }
    
    public void pop() {
        head = head.next;
    }
    
    public int top() {
        return head.val;
    }
    
    public int min() {
        return head.min;
    }

    private class Node {
        int val;
        int min;
        Node next;
        public Node(int val, int min, Node next) {
            this.val = val;
            this.min = min;
            this.next = next;
        }
    } 
}

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack obj = new MinStack();
 * obj.push(x);
 * obj.pop();
 * int param_3 = obj.top();
 * int param_4 = obj.min();
 */
```

